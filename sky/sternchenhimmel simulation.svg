<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1"
    height="200mm" width="200mm" viewBox="-100 -100 200 200"
    onload="start()"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:cc="http://creativecommons.org/ns#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <metadata>
    <rdf:RDF>
      <cc:Work>
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <cc:license rdf:resource="http://creativecommons.org/licenses/by-sa/4.0/" />
        <dc:creator>
          <cc:Agent>
            <dc:title>Urs FÃ¤ssler</dc:title>
          </cc:Agent>
        </dc:creator>
      </cc:Work>
      <cc:License rdf:about="http://creativecommons.org/licenses/by-sa/4.0/">
        <cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction" />
        <cc:permits rdf:resource="http://creativecommons.org/ns#Distribution" />
        <cc:requires rdf:resource="http://creativecommons.org/ns#Notice" />
        <cc:requires rdf:resource="http://creativecommons.org/ns#Attribution" />
        <cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks" />
        <cc:requires rdf:resource="http://creativecommons.org/ns#ShareAlike" />
      </cc:License>
    </rdf:RDF>
  </metadata>

  <script type="text/javascript">
    <![CDATA[

var IntervalMs = 9 * 1000;
var FadeDuration = "3s";
var OffColor = "#191900";
var OnColor = "#ffff00";

var animations = [];

function start() {
  var group = document.getElementById("lights");
  var lights = group.getElementsByTagName("circle");


  for (var i = 0; i < lights.length; i++) {
    var animation = document.createElementNS("http://www.w3.org/2000/svg", "animate");

    animation.setAttribute("dur", FadeDuration);
    animation.setAttribute("attributeName", "fill");
    animation.setAttribute("fill", "freeze");
    animation.setAttribute("to", OffColor);

    lights[i].appendChild(animation);

    animations.push(animation);
  }

  update();
  setInterval(update, IntervalMs);
}

function update() {
  for (var i = 0; i < animations.length; i++) {
    var item = animations[i];
    var value = Math.random() < 0.5;
    var color = value ? OnColor : OffColor;

    setColor(item, color);
  }
}

function setColor(item, color) {
  var oldColor = item.getAttribute("to");

  item.setAttribute("from", oldColor);
  item.setAttribute("to", color);

  item.beginElement();
}

    ]]>
  </script>

  <circle cx="0" cy="0" r="90" fill="#000670"/>
  <g id="lights" fill="#ffff00">
    <circle r="2.5" cx="5.08" cy="-55.88" />
    <circle r="2.5" cx="-35.56" cy="-58.42" />
    <circle r="2.5" cx="30.48" cy="-73.66" />
    <circle r="2.5" cx="27.94" cy="-33.02" />
    <circle r="2.5" cx="71.12" cy="-30.48" />
    <circle r="2.5" cx="68.58" cy="10.16" />
    <circle r="2.5" cx="35.56" cy="0.00" />
    <circle r="2.5" cx="-5.08" cy="-2.54" />
    <circle r="2.5" cx="-35.56" cy="-7.62" />
    <circle r="2.5" cx="-60.96" cy="-35.56" />
    <circle r="2.5" cx="-63.50" cy="5.08" />
    <circle r="2.5" cx="-38.10" cy="33.02" />
    <circle r="2.5" cx="-27.94" cy="63.50" />
    <circle r="2.5" cx="12.70" cy="66.04" />
    <circle r="2.5" cx="17.78" cy="35.56" />
    <circle r="2.5" cx="58.42" cy="38.10" />
  </g>
</svg>
